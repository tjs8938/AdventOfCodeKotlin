package year2024.day01

fun main(args: Array<String>) {
    part1()
    part2()
    part3()
}

fun part1() {
    val input =
        "CCBCBAABCCBBBCBCABACCBCCCBBBCBCBCBBAACAACCACABCACBBCBACACAACCBACCBBBBBBAAACBAACCCACCCBCBCAAACBCCABCACBCCABCCBBAAACAAABBCBCABABCAABACCACCCACABABCCABCCBCAABCBCABBACAABACABABABBBAABCBACBABCCCBCACBBCBCACBABCBBBBBCBACAABBCABACBABBABAAABAABABBCABCACBCAAABABCCABCCBCAACCCBCAAACCCABABCABCCCABCCCABBCCCBCABBACABABBAAAABBAACAAAABAABBACCCBBBCBCCABCBBCAABACBCABABCACABAAABACBAACABBBACCAAABCBCACBBCCCACCABCACCBACBAACAABBBBBBBCAACCABCABBBBCBBAAABBCCCCBCCBACAAACCCAAABBBBABBBCABBBAAACAABABCACBABCABAAACBBCCCAAACAACACAACCACCACCCBBBCAACBBBACABACCBCABBAABACBBCAAAABCBABABACBBBAACABABACABCBCBBBCACACBBCAACAAABBBCBAAAAABABCABCCACBAACBBACCCCACACAACBBBCBBCCCAACCACAAABABABCCBCBCAACBCCCBACBBCACAAABCACBBAABBCCABCACCACBABCCCACCBACBBACAAACCCBAABCCBACBBACBABCCABCBCCCBCABBBABCBBAABBCBAAAABBAABCAACBBCCACBBCBBBBCCABAABBABBCACCACABABABCCCBACCBAABCACCAABABCBBBBAABBCAABACABAAABBCCBCBBBCCBCBBCBCACACBABCAABCCCCACCBCCBBABAABBACCCCAABBCCABBCBCBBACBAABCCABBBCBBBBABBBBBCBBBABBACAABCBABCAABCABCCCCBABAACAABCBCCBCCAABABABBCBACBACBABABB"

    val counts = input.groupBy { it }
    val points = mapOf('A' to 0, 'B' to 1, 'C' to 3)
    val result = counts.map { (key, value) -> points[key]!! * value.size }.sum()
    println(result)
}

fun part2() {
    val input =
        "BABAABCBAACACCCBDCAAAxBBAxABCBAACACBDBDAAACDBxCBCAAxCCDxBxADADAxCBCBBDDAxAAACBxCCBDBxxABBBADDAADACBCABBCBDBDDAAAABCCDBBxBBBBAADBBABABBADxCABCACxACDBADDCBBABCBDxAAxCCBADABADDCAxCCBACBCDBDDBADACxADCxBCADBBBCAAACDABCDBCCCABxDDAAADABCCACxDBxxABBCxCCCBBDACxBCACAABABACCCDADDBDCDDACBCDBBCDBABDADxCCDxxACBxACBCABCDCBDBDACCBCBBBCxBCBBACBBABBDBDxCBBCCDCBAAACABDCDxADCBBAADDBBCCBACxADDxCDDCxDxDDBDDCCDxDAADBCAADCBACCDBADDxCBDBABDCAxDDDCxDCCBBBDAxACxCCCxBBDBDCCxACxDBADADADCAADCABBxCADABDxBACxAxCCDDxBCAxDABBCxBABABACDABACCADCBCCADBDAxCxBDAxDCCDBCACxDDDDCDADABxBCADABxDDCAxCDACABCBDDDCCBCxxACDABxBADCBDDxCBxDABCBCCDDDBBCCACADxDAADAABCDBCADABAxBABBDADBBxCCxBACCABAxCCBABCBABCCACBAxDCxBDBBxCACBCDCCCABBDDDCCCADACBAAAADCBCABxAABADDAABACAxDDAAADCCxBxxAAxCBDBCACBCABBDCDADBxDCxxDxxDCBDxCCCBCCCxCBCACCBDxACxBDABAAACADCABCBxCBADCCAxDCCxAxCxCBAADAxBAAxACADBACADAABDxAxDCDCDBDBBBDDCCAADDDDDBxCxAxBBDCCCBxBADCABDADCxCAAAABxBxxBxDDBDDBBDBCCBCBACAABxBxCDxACBDDCDCBDxCDxCBCxCCDCBDACxDxCxxDCABDDCAACBAACADDDADBxxACxDAACDDxADACDAxADCDCAxCCxCxDDDxAxBBADACDCxACADADDCxBBBBBCDBDDAABABABAACACACCBBCCBBDCAAADBBCCBACBAADAxCBCADDCCBxBDBBDBBCCADBBABAACCABBCCxAAxxDDDBxCDBBxBCBDDABCCxBADBCAADABCCxCCADDDDAACCAAADAAADCDxCBCCxDBxxDAACCBADBADCDDBBDABCBDAAAADDDDDCDBACDADCDDBDBCDBBBDDAxCCCDBBCDxCCCCADCDBCDADBCDDCACBACxCxADCCBxCBDABAxDBCBDBCBDBCBxxABABxDCADxCCAAABCBBDAxACBBDCADDxCBDDDCCDDBCDDDCABACDACABxCBDBBxBDADBxACDCDBDBCAAABCACCACCDCBDCDADCCDBACAxAxBCxxCDABABDBDDCDAACDDACCCxDDDAADADABCDAACCAABDBBBDABDDxABBADADABABCABDAAACDxCBBAxCDBxDDBCBCDDADBDDBCDCDBBADCCCBBBDCDDxCCDBACBDxCABDCBxAxBCACBBABDCxCCAAABADDADBCDxxDDDAABADCCAxDxABAxAACDAAxDCCCADBACCAxAAACxACACDxBACCBBBBDCADxxxAxBCAABCDBDCBDDAADCAxCxxCDCDBxDDxDBDCAxABBBxBABAAAxDDDBDCDDCCDCxDCCAxDABCCCDCBBACBDBBxCxBBDCBCBDDCDCDABDACCxDBACDDBBADBCDCxxAxCDCCBCCCAxDCBAACCCCBDCAABBBACBACCACxCCCDBxBABBBBCCDDxDBBCCDCDBDDCAADxBBAADAxDCBCDADDAADCADBDCBCAAxBBABBDCADCDCAAABADDBxCADCxDDABDAACCCDDBBBBDCAxxDDACACDDCDAxDxBBCADCxxBBDAAxADCDCDCACBBBDCBBCBBCDDxxBCACBDDDBDABBBACAAADADCADDDDDDCADBA"

    // split the input into substrings of length 2
    val substrings = input.windowed(2, 2)
    var result = substrings.filter { it == "xx" }.size * 2
    val points = mapOf('A' to 1, 'B' to 2, 'C' to 4, 'D' to 6, 'x' to -1)
    val counts = input.groupBy { it }
    result += counts.map { (key, value) -> points[key]!! * value.size }.sum()
    println(result)
}

fun part3() {
    val input = "CABxCAxxADxBDBDCACDDxBxBDCxAxBBxCxDDxABxDDAxAxDAACDBDBxxBACCDCDxxAxDxxBxxBADDACDCBBBDxADBAABCAAAAAAAxxCDAxDABBDAxBCDDACxCDxCxCDADDDxCBBxDxxDDABDCDAxBxACxDBCxCxAxAADACDCBCDxDxCACDADxBxCxDDCxCAxDDBBBxCxDAAxDDBCBACxDDxCDxCCACCCCCDBCDBBBxxxCCxAACBBDACBDxDDCDCADCAACBDxxADAxDCDBABxAxxCBBCCABBxADxxAxBBCBxCDxAADCBxxDCCAxBDBCCABCAAxBDCDxBxAABBCDCBxDDDBAxDAADCAxCBAxACxCCCAxDDCAxCDBCCDABDxAxxAxxBBDAADDCCCDCBBxADBCBDCxBABDxAxCxADDDBCAABBxCCDBCBCBCBxACACBDABxxADBBCBxDABCxxDxACDABCDCBDDDxxxCCAxCxDDABDDCBCCBBCxxCCADxCCDxCBADDAADBxBxBxACDxxxBBBxDACCxxAxDADBACBDCCDAABBCADBCDDBBBABCCCADCCBBDDAABBDxABBxxCABCBxCxDDDDxBACBDxDxCDBCxCBCDDDxAAxDDxxCDBxABAADCDCACABxxCABxBDADCxCCABCxCBCDBDABxxBBADCxBDDCCxBxCAAADBCxCAxDAADxDACCxDxAAABADBBABBBCCDABDDCxDxABDBxAxBAADDCxDBAxCBDxCCAxBAxDxCAABBDDBxCCACCAxCDACACAAABxBDDBAAxACCBCBDxxDDDDCAxAAADCxxCAADBBCBCDDxBxDBDxACDACCCABAxxCxCBBBxADxDCDCxABCBDDBCAABCBCCBAxxCCCxxxxCCBxABBBADDCCxxACBCBCAADCCDCxBDDACxBDxDBBDBBxxBCCDDxCxxACDxADBxDCBDBCAxCxCBCDBDxBAxACABADBBxxxCCAxABCxBBCCBADxDxABxxCDxxDBCxCxDDCAxCDBBDxADAADCABxBABBDCDxCxDACBCCCBCBDBxAxBCxACDCBBBAxBDBDDADCACxDxADAxDAADxxDBBCxDxxCDBDBxxxBxxxAAxxDxACAAAxBCCxCxCxCxxDCDBDxxACCxCCAxxBBBCxxCCCCxCABxAAxBCxADDACAAxBxCAxDDCBCBACAAAxBDCxAAxxDADABBCxBBCDxDxxAxCCDBCCDDDBBBBxxxCxBDDABDDACADxABADDACDxxBDACCBBDDCDBxxCAxCDCABBACBxDxDBBAxADACADxAxCCADBBCAABADCDCDCBBDxxDCDBBACABCxDxxCADADCCxCxxABDCxDCADxCBxxAxxCxCAxDDBCDBCACDCACBDBBCBxxCxxDAxDxCCDxxCABxCDBAAACDDCDCxxBxCCCAACxxCCBDxCADABxDCCxDDxBxBCACADADABAxCxxDACBCCCxABBDADDBDCBDABBADBxxAADCDCCCCxCDDCADDCDADCxBCCxACBAACCDCxABCDCBxCABxCACBBAAxBDDACBCDDAACADDDCBxBCADCABDCACBxDCBCABCCxABxDAxDDADxACxDBDDCBBDDCADxCABCCxxDDDBxxxCAAACADADBCABCDCDBBCABCCBAxAADBxxCBDxABDBCDCDBCAxCxBBCxxACBDCDCCBDCBBABDBDDDCDxCABBABxCxBADxxACCCxDDBDAxBxBCCxDxBxxDBxAAABAxBBBBDxBxBxxCBDxxCAAxDDAxCBABCDDABCADDBACDCACAACBDBBxAxADCCABBBACBDDCBCBBAABDCBACxDAACxBADxBxCDBDBDxBAxABADxBxBAABxxDDDCDAAAADxBBDxABDAxBACBDxxxADACCBDACCBADBBACxDABDxDCxCADxAAxDCCxxCDCDxBxBAAxAxBDDxDDxACCCBCCCDBCxCAABACCBxxDDAACBxAxCDxAAADAxAABCDDCCxxDDACCDBDDDBBxxxxBCCAAAAxDACDDCxDBDABxAxADBAxDADBxACCCDxABCBxCCCxDDxxCxDxCBxADCBxCADxBDxBAABACxCADCCDCBBBABDCABABBCADBDACxCDABCxDxACxBDCCBAAxCCBDDDAxCCxDDxBAADDBxCxDDxBBAxDBDBxDCBCDDDDADDDxxDCBDCBxAxCCCDCAACDCCBBxBBCBBAxAADCCBxABCBBBBACADADxxxAxDxBCAxCxDDCCxBAAABCABxDCxAxCxBCxxAACxBxAAxxCxACBDDxxAxxxCBDACBDCBADxACABBxxBDBAxxACCCCACABBADCDBDCDABxBADxCDCxCxCxABCABxDCAxBDCBBACABDDACCABCDBBADDADxBxBBCxDAADBAAACDAAxDDAxBDxBCBxAABCxCBDDBADDCxADACDxCCCCADxABBAACBDxBxxDxBAxAxCxBBADxCABACxCCBBBxxDDDxDCDADAACCCDCBADxBxxDDDBDDxDABxCDxCADxDADCBCDDBABxDCxDBCABBBCxCDxxBCCDDAxCxCADCCCAxDBBCCDCCxADCCDCCDxDAxABBxABDAxAxCCDACDxBCxACBBAxACBDxxDACABxBABxDxBBDCCBxxBAxDxAxBDCDDxCDxACABDBCDCCCABDxAxxxBDAAACxCCDCDCxBDAxBCxxBxAxxDDxDxDxBACCBBDDBCCABCAxDABDDBDBCBxCxBDBCxABxAAxCCDBDABACAACCACBDDCBCxADBxxxDCDxAxCBCBBDDACBDAxADABxAxADCBDBxBACBDxABDAAABBBAxxABxCABDCAAACBDDCAADBBACxDxDAxCxABCBABADBBCDDDDBCCxxxDxAxDAACDDDAxBCACDAxBBxCABACBxBCCAADBxxDDABCCDDxCBCCBADDBACDACBxxxCxBACxDxDDBDxAxxABCDADxCAABDAxDxDACADCDxCBDBDBCBCADDxCACxAxBCACBDxAADCCACCAABCABxABDBACCADDCAxCCBABADABCxBDCDCABBxDBBDCDDDDAxABxDCCDABDACxDDDDxDBBxCABABxxBBAADBxDABBxBABBBCBDAAxCxxBxxADDxxBADxACCBxDDDBCBCDDCBDBxBCCDxBACDDCDCCxBDBBxCDBxDBDDxDDBACACCCDDBxADCACCDCCADCxxAABCAxAxCDADxxDCCABBCCCABBDAxxDDACDBBCAxCDBDCCAADBCBADxDBACCABDxxxDBADABBBCDACADCxAADADBACADBDDAADDDABCBDBxxCABBCACDxCCDCBBDAxACxDCDxxCBAxCACACADBBBxDCxCDCDCCDABBCCDBDBxDAADCCBCACAxDBACAAxDxCxAAxAxAABBABBDACADCBxxxBAxBABBADCxDABxCCADxBCxAxACACCDCADAxDDDBCDAxBDxBCDxBAACBAACCBxAxABAADBxBxDxxBCBAACAAxCAABDCDBDABxxBDBxxBBCxDxDCAxxBADBDCDBADBABDABBBDDAxDxACxBCDDAxxAAxxBBADxAxxxABBDxxBACCABxDxAACABDxCBDCDABxBDABADADAADCxxCxxDCBxCADAxCDCBCCBBCAxCAxBBxCACCBABDDDADCAxDxBACxAAxABDCxCBxDxBCCDxDxBxCBBADCCBDABCCBBCxCDBBCBxCDDxDACBCDDxBBBBBxDCBACBCCxxDxBAxBAxCxBBBDxDCDBBDBxCCCCxACDCBDCCACBABCDDBCAAxDxxABBCCDDxxxAADCAAAAxxDAxBxDBBCBxDBDBDBxDCCBAxDxxACBBBDCAACBxxCxDxAxCBBxxBDCDBxABBAxxBDBACxADBBBCDBDDBCxADDCCBADAAxCDxBDCDxDBCBxxBACAxABCAABxCxBBBBADCCBCBxDAADCCxxxxCCBBDDBABAxDCADxBDxBCCDBxDCCDACAADDAxCDBDDBBDBCDDxCDDBCDDACCDCCDBBAAAxCAACxAxAAxBDCDBCxCBAAxDxAxxDCxDxDAxCDAxBCDxxDxBCxCxCxxACCBBAAxCCCCCCxBBCDADAABABABCAACDxCBACCCAxCxCBCxBBDDADACCDCBCDADABCBDABCCCCDDABCDxABBBDBBDDABBAxDDACCBAAABDBBCACxAxBxCCBxAxDABCAAxDBABADxDCCBBCxBAxDBADBxDxBDDxDxDxxACDBDxxBDCxDACBxCABxCCCADxBBAxCDCxBxCCCxxACCxxxDABBDDBDDxAxBACABCBBCBBxBDCABBCCDBDDCCADBxBABxxACAABDxACDDxCDDADCxADxCDxBxBABADBxDxCBBxxCDBCDxABBDACBDCxCBBADACxBDAxACADxADBABBBxxAACACxBDBCDDABCBDDxCADDACACBAxBBBxDxBADxCDDDBBADBABDDCAABDBADAxxAxCxCBBCxBADDBDCDxDAxxDCxABDCAxxCxCACCDBABCAAxAAABDCCAxDAAxDxDDxCAABxCBCDDBDDxxDCCCBDxBAABBBBBBAACBCBDBCxxxDBACBADDxDDCxACCAABBDDCABDDACAADBBCxCAADBBxCABBADxxCBBxCBBBCCDCAxCDCDBCABBxxBCDxCBxDDBDABCDDxCBBAAABACADADDCBxxxDBxBxDAxBADCACADDxxBxxDDDxCDCDBCAACBDDDADAACBDxAADADxDCxACBxBxDCCxAxACDCAAAxxxBxCCDxDDADBBAxDDACBCxxDCDxACCBDACAxACDBCxxADACDBAxACDCAAxxDxxAACBABCxAxDDBDCBBxADCDADBBBBBCDBBDxxxDADDDABxACCDADBADxAxBBCAxDxCxxCCCDDCBCCBxABABAxDxxxAxAAAABxCABBBBDDxACAxDDDBxABDxDxABCADABBxCAxAABDDBxDBCCxBAACCxCDBxxBDCBxBDCBBxDxxCABDAADDDACDDxxADBxCACCDDxACCDDxxDCBCDAAACADAAABBDCCACCDADDxADxxBxADCCDxBDCCCDDCxxCCxBBBDDAxAxxDBxxBACDBxxxxBDBxBBxDDCCxDxDCxxxCDACBDDBDACCxBCCBCCDADDADAxCDDBDCCACxCCBBDADCACDBAxDAxDCDACCCDxBDxBAACDBxCABxBBBAADBDCBxBCAxBCCAAAxxBxABBBCxxDBxBCCABxDCDCABCCDBACCDxAADAxBxACBDABxxxxBDDAxxCDADxAADxxBBAAAABxxDACCBBCxDDDAxBCDBDDxDDBBxADBAxDAACDDDCBAAxCDDABCDAADADxxBCDCDxBCAxxCACACDBDxBxBACAxxABCCDCBABBDBDCxCCBCAADxBBDDCxxDxABCxCxCxBxAxAAxAACxxxxxBCDxCAABDCBBBCDxDCDBADBxBBCBCCxCDDCBxACABABCADAxBCCxDBDDxDBxDBDxAxDCBxxCBDxCxCDAABADCxCABCBCABCCDxBDCABDBABBDxxDxCCDxxBBCCCBCxBACCCDACABxDCCCDxACAxxDDBDADxxxxDCAAxDAADDDBBAxxDAAAACCAxBACDBDBBxBCBCAxACCDDDABDAxDxBBBxDCBBDDAxDAABDBCxDCDAxBBCDBBBABADDDDACDDBCCCAABCxABABxxxxxxCxCCxABDABDADBCBDBBDCAADACADDDDCDDBABACABCDBCABxACAxCAAAxDBxCBBxxABxAAABCDBDxCCDACxxxDBDBxDCADDxCDABxxBADCxAxABABxCBCBCADxADDBxACCCCADCxCxAAAACBCAxABxxBAxCxDADCBxBBDDABDBCCCxDBxCBADABDABADBBDDxAxABBAABDCDAxCCBCDABACCxDAxDCACxBDBCBBDAAAACCCxABDCxDBACCBBCDDDBCxADCxBADDAxxDACCDDxCCDAxBBCABBCxxACCCxDxADBxCCDxBACCDBBxCxCBBBBDxBxABACxCBBxBxCCAADBCDDxCxBCxCDCDCCxACACxDCBBCBBCAABAAxADDDBAADxAADAADCAxADABxDDDxxDDBDCBACBxAADACBBxDDxAAADACDCxAxxDAxCxCDCDCCABBBBCBCDBxCBABADAADxACBDDxAxDDxxDCCCBDxBxxCDACBDCDDDxCBxACxxDDBxBBDAADCACACDAABxCCBDABxBADBDBDADDBDBBACxBCAxBACxDxADxCBCBDBxBDAACBxBCCBDDxAADDxxDxDxDDBACxCxCBABxAxBxADBBDxAACBCAACxCAAxBCBDAADDCBxDCDBBBxCCBDCCxDxBAACxCCDBBxCxCCBCxxxADxBxxxCxxxAxxADDDDDDABAAABDAACDBBDABxBAAxACCDxCBDDCAxCBCCxxCCCDDxxxDCABBDCDACDABDBDCAAAxDxxAABBxxxACxACDDxxAAxxDDAABCCCAAxCxCCCDDACBBBDABxxAAxABADBDBBBBDxBDBCCBCAxBDCDBBxADACDDxCBABBDxAxABBBADDxCCBBxCCAxxDDxCDxBBCDBACxDxAxxABBAxDCBAABDDACCCCACBBxDACCCABxxABBDABDCxBCCBDxxCABCBBxCCABCBxAxxDxDCDAxBCCAxDxAxCCACCBBBAADxxDDABBDxBxDBxDDDABBxxxCABDAAxBxxAAADDxACBDxAxAAAxDCBxxBBBDxCADxADCBDCCDADxBxACCxDxAxxBABACDxxxADDxCCCCDCxBCAxCACxBADDxADAAxADBxBCDBDCBAAADDxxACCACCCCCCDADxxBBDBACCxBAADBCCCBCCxDBCDDCDxBDBDABDBBDBAAxxBDBCBBCxCDBCADxBDDBxCCxxDAxACCACBBBxCAxxDCDBBDDCDACAxBDBAxDADDDCxAxACBAxxxBDABABAxCxxAACAxxxxCBxBAAAxCACAACxCDxAxACBxxDAAADDACxCCDAxAxBDBxCABDCAxxDCCxDxBxCAxACBDCCDBACxCDACBBCDBDACxDABCDBAxDACBABDDBCxBCCDBBCDCDACDABDAxCCCDDBxxABBDDBCBBACxxDxDDxBDxBDxBBDCBAxDABBxBACCABCACAxxCCDxDAAxBDDCBDCCxxDCAxxACDABCxDADCCBACDBxAxDDCBCADxAxxBCxABxCCADDxDCBABDACCCxAxADDBDDBBxCACABBDCAAxBCBCBBACCCBBDCCxDBDDABAADxDCxxxDCCxAxDAxDAxCCAAABDCDDCDDBBCDxACBBBCxAAAxDBBCBAAABDCBxCxACxBAACDxCACxxxCDADCBDDCAAADDxBAxDABAxxxxBCDDDxBxBABABBxxABCABCxADBxDDDBxxDDCBCBCCBBxCDDCCDxBCxACCCAACDDBCDCDDAxACCBAADxxAADCxCBABAxCAADCCCCAAxCCABCCBAxAACxxxDBxCBBCxDBxABxDDACCCDAAADxCDxxBACDxxBxCxAxCBADDCDCCBDADxAAxDACBDDDCBCxABBBBBDCDADACBABBDDCDBDDCCxCBCADBCxABxDBCCDADCACDBCDxCBACACxxCxxDDxxxxACBCxCDDAxBCCxCABDCBxDCBDxxCBAABxAAxCxxxABCBDCDCxDCCBDABCCBACCBABDDABBxDBAADxDDABxBCBBAxBDBAABBAAAxAxCCAAxACAAxABxCBDCDAxxBAxDCDCBCCADDAADDDBCBDDDCBBAxBCCxxCCAAADxCAACADDBCDABAxBADADBBBACABxDACCCAxDxABBCxABDAxxxBxCBDAxDBBBCDAxBDDACBxBDDDDCCBCxABDAADBDDCCADCCBBAAxCDDBDBBxxABAxCABBCxAxBBAACxBBDDCxCxACACADAxxDAABDDDxBxDDBAACxCxACCxDCDCCDAABDCABDBABAABDCBCBDAxCBBxxCCCxAAxxDxxDABxxABDBBCBADDABCBDCxCBCACACxBxxBACxxDxxCxBCAAxDxDCBADxADxxCDCCADxBBxACBADBABDBCADDCADDBCDCDxxCBCAABCDCxxBAABDAxDBDCBADCDDCADxDDCxADABDBADxDAABABDDCDCCxxDACxxCAAABxCCDBAADACxCxBAAABxDAxCCDCCDDDACBABDDCCCDAxCxxCCDxxCAxxxBDACDxDBxxBACCCCAxADBACBDAADxxDxBAAxBDADxDBCBACACCBxCxAAxxCCxADACDDxACCCAxBBBDBxxCCBCDABAxAADCCxBAADACxAxxxCAADDCBADABAxABAABxAxDxBCCxBACxBxADCCBCACBCADDDCCxxxCxxCxxBDCxDCAACBCxACDCABxCxCDBBDCDCADDBxCxBBAxCDABxBDCCDxAxACBDxAxxDBDCBBACxBBABCDCDxBCxBxDDADBBADBBCxBCCCDDCBCDCDBCDAAAABDCCBxCBDCBDCBxABxCxxABBBxBBDxCAACADBCCxDCDxACBxABxxDBCCABxBBDACBDDBxxxxBAABDACBxBCxDxxAAxxxCxBBDDBDDDCBxxCBBDBBxxADxDDCBBDBACDACxxAxDCxxxxADxAAxCCDDAxACCABBDDCxAAADDAADCBCxxCCDDxBBCxBBxDAAxBDBCxABxCAxDCABAxCBABBDADCxCCxCDDDCCxxxDBABCBCCxxxBBxxABCBCxBCCBDxAxDCCCBAABACAxBABDBDAAAxDCBCADDDBADAxADACDCDDBCxBBDDDxxBACCBCDxBxCDxBBxCCCAxxACDxCAABxBDDCBADCDCDCCxCCxDxBDBCxCBBDAACBCxDxCxDBCDDxAAxxBBCBAxx"
    // split the input into substrings of length 3
    val substrings = input.windowed(3, 3)
    var result = substrings.map { it.filterNot { c -> c == 'x' }.length }.map { it * (it - 1) }.sum()
    val points = mapOf('A' to 0, 'B' to 1, 'C' to 3, 'D' to 5, 'x' to 0)
    val counts = input.groupBy { it }
    result += counts.map { (key, value) -> points[key]!! * value.size }.sum()
    println(result)
}